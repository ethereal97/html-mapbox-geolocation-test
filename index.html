<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <meta name="mobile-web-app-capable" content="yes">

  <!-- ios webapp -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  
  <title>HTML + Semantic UI</title>
  
  <!-- HTML -->
  
  <!-- Semantic UI -->
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.1/dist/semantic.min.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.1/dist/semantic.min.css">
  
  <!-- MapBox API -->
  <script src='https://api.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.js'></script>
  <link href='https://api.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.css' rel='stylesheet' />


  <!-- Custom Styles -->
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <br /><br />
  
  <div class="ui container">
    <a class="ui primary button" id="givePerm" onclick="accessGeoPermission(this)">
      Give your location permission
    </a>
    
    <div id="map" style="min-width:70vw; min-height: 60vh; max-width: 100%; max-height: 100%; background: #dfdfdf;">
      <!-- MapBox Canvas will be here -->
    </div>
    
    <div class="ui segment">
      <span class="status"></span> Lat: <span id="lat">(NA)</span>, Lng: <span id="lng">(NA)</span> (approx. <span id="accuracy"></span>m)
    </div>
    
    <div class="ui form">
      <form action="?" method="GET">
        <div class="ui form-field">
          <label for="ref">Enter your Reference Number</label>
          <input type="tel" name="ref" id="ref" value="" maxlength="4" minlength="4" placeholder="****" autofocus="" style="letter-spacing:10px;" />
        </div>
      </form>
      <br />
      <br />
      <h4>Nearby Bus Stops</h4>
      <h5>Total</h5>
      <ul id="nearby"></p>
    </div>
    
    <div class="ui container">
      <button class="ui negative basic button" onclick="stopWatching(this)">Stop</button>
      <hr />
      <button class="ui primary basic button" onclick="getNearbyStops(this)">Nearby Bus Stops</button>
    </div>
    
  </div>
  
  <button onclick="eev()">Eval JS</button>
  
  <script>function eev() {
    let inp = prompt('Input JS to eval');
    let res = eval(inp);
    return alert(res);
  }</script>
  
  <!-- Project -->
  <script>
    const app = {
      pin: null,
      map: null,
      onload: [],
      lat: 16,
      lng: 92,
      watched: null,
      target: null
    };
  </script>
  
  <script src="js/map.js"></script>
  
  <script src="main.js"></script>
  
  <script src="js/stops.js"></script>
  
</body>
</html>